{"version":3,"file":"index.js","sources":["../node_modules/@wonderlandlabs/looking-glass-engine/build/index.js","../node_modules/strict-uri-encode/index.js","../node_modules/object-assign/index.js","../node_modules/query-string/index.js","../node_modules/decode-uri-component/index.js","../src/bottle.js","../src/utils.js","../src/Vector.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/Pool.js","../src/rxCatch.js","../src/Impulse.js","../src/Promiser.js","../src/RestPool.js","../src/DataMap.js","../src/RestPoolUtils.js","../src/Signal.js","../src/index.js"],"sourcesContent":["(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define('freactal3',[],b):'object'==typeof exports?exports.freactal3=b():a.freactal3=b()})('undefined'==typeof self?this:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=3)}([function(a){a.exports=require('rxjs')},function(a){a.exports=require('lodash.clonedeep')},function(a){a.exports=require('lodash.get')},function(a,b,c){a.exports=c(4)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(5),e=c.n(d),f=(a)=>{a.constant('STORE_STATE_UNSET_VALUE',Symbol('STORE_STATE_UNSET_VALUE')),a.constant('S_NEW',Symbol('S_NEW')),a.constant('S_STARTED',Symbol('S_STARTED')),a.constant('S_STOPPED',Symbol('S_STOPPED')),a.constant('S_STARTING',Symbol('S_STARTING')),a.constant('S_ERROR',Symbol('S_ERROR')),a.constant('ACTION_ERROR',Symbol('ACTION_ERROR')),a.constant('ACTION_START',Symbol('ACTION_START')),a.constant('ACTION_WORKING',Symbol('ACTION_WORKING')),a.constant('ACTION_NOOP',Symbol('ACTION_NOOP')),a.constant('ACTION_COMPLETE',Symbol('ACTION_COMPLETE')),a.constant('NOT_SET',Symbol('NOT_SET'))},g=c(0),h=c.n(g),i=c(6),j=c.n(i),k=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|null|this|true|void|with|await|break|catch|class|const|false|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)(?:[\\$A-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D])(?:[\\$0-9A-Z_a-z\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF])*$/,l=(a)=>{a.factory('p',()=>(a,...b)=>new Promise(function(c,d){let e,f,g;e=null;var h=function(){try{return g=[f,e],g.result=f,g.error=e,c(g)}catch(a){return d(a)}},i=function(a){try{return e=a,h()}catch(a){return d(a)}};try{function c(){return h()}return'function'==typeof a?Promise.resolve(a(...b)).then(function(a){try{return f=a,c.call(this)}catch(a){return i(a)}}.bind(this),i):Promise.resolve(a).then(function(a){try{return f=a,c.call(this)}catch(a){return i(a)}}.bind(this),i)}catch(a){i(a)}})),a.factory('call',()=>(a,...b)=>a&&'function'==typeof a?a(b):null),a.factory('explodePromise',({NOT_SET:a,isPromise:b})=>(c)=>{let e=a,g=a;return b(c)?(e=(...a)=>[...a],g=(...a)=>[...a],c.then(e).catch(g)):c=new Promise((a,b)=>{e=a,g=b}),Object.assign([c,e,g],{done:e,fail:g,promise:c})}),a.factory('update',()=>function(a){return(b,...c)=>(d)=>{const e=a(b,...c)(d);return Object.assign({},d,e)}}),a.factory('obj',()=>(a,b)=>{const c={};return c[a]=b,c}),a.factory('asMap',()=>(a)=>a?a instanceof Map?a:'object'==typeof a?Object.keys(a).reduce((b,c)=>{const d=a[c];return b.set(c,d),b},new Map):(console.log('asMap cannot process ',a),new Map):new Map),a.factory('asValue',({NOT_SET:a})=>(b,c=null)=>b&&b!==a?b:c),a.constant('NOOP',(b)=>b),a.factory('isSet',({NOT_SET:a})=>(b)=>b!==a&&'undefined'!=typeof b&&null!==b),a.factory('isObject',({isSet:a})=>(b)=>!!a(b)&&'object'==typeof b),a.factory('isFnName',()=>(a)=>!!a&&'string'==typeof a&&k.test(a)),a.factory('isFunction',()=>(a)=>'function'==typeof a),a.factory('isPromise',()=>(a)=>!!a&&(!!(a instanceof Promise)||Promise.resolve(a)===a)),a.factory('functionCombine',({call:a})=>(b,c)=>(...d)=>new Promise(function(e,f){return Promise.resolve(a(b,...d)).then(function(){try{return e(a(c,...d))}catch(a){return f(a)}},f)})),a.factory('mergeIntoState',()=>(a)=>(b)=>Object.assign({},b,a)),a.factory('timeLimitObservable',()=>(a,b=1e3,c)=>{const d=Object(g.from)([!1,new Error(c||`took over ${b/1e3} secs`)]).pipe(Object(i.delay)(b));return Object(g.race)(a,d)})},m=c(1),n=c.n(m),o=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h['return']&&h['return']()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),p=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},q=(a)=>{a.factory('Store',({STORE_STATE_UNSET_VALUE:a,S_NEW:b,S_STARTING:c,S_ERROR:d,S_STOPPED:e,S_STARTED:f,NOT_SET:h,ChangePromise:i,isPromise:j,capFirst:k,asValue:l,isSet:m,isFnName:q,isFunction:r,isObject:s})=>{class t{constructor(c={}){var d=c.state;let e=d===void 0?a:d;var i=c.starter;const j=i===void 0?h:i;var k=c.propTypes;const n=k===void 0?{}:k;var o=c.debug;var p=c.actions;const q=p===void 0?{}:p;this._propTypes=n,this._propsState={},this._props={},e!==a||m(j)||(e={}),o!==void 0&&o&&(this.debugStream=new g.BehaviorSubject({source:'constructor',config:c})),this.addActions(q),this._state=e,this._starter=l(j),this._status=l(this._starter)?b:f,this.stream=new g.BehaviorSubject({state:this.state,status:this.status})}get actions(){return this._actions||(this._actions={}),this._actions}get do(){return this._actions}get status(){return this._status}get _status(){return this.__status}set _status(a){if(![f,c,d,b,e].includes(a))throw console.log('attempt to set status to ',a),new Error('bad value set for _status');this.__status=a}get _starter(){return this.__starter||null}set _starter(a){return m(a)?r(a)?void(this.__starter=a):(console.log('attempt to set bad value to starter:',a),void(this.__starter=null)):void(this.__starter=null)}_mergePropsStateIntoState(){m(this._state)&&s(this._state)&&this._propsState&&this._state&&'object'==typeof this._state&&(this._state=p({},this._state,this._propsState),this._propsState=!1)}get state(){return this._propsState&&this.status===f&&this._mergePropsStateIntoState(),this._state}get validState(){return this.validator(this.state)[0]}get stateErrors(){return this.validator(this.state)[1]}get stateAndErrors(){var a=this.validator(this.state),b=o(a,2);const c=b[0],d=b[1];return{state:c,realState:this.state,errors:d}}validator(a){if(a===h||'object'!=typeof a)return[a];let b=!0;const c={};return Object.keys(this._props).forEach((d)=>{var e=this._props[d];const f=e.type,g=e.test;var i=e.valueIfTestFails;const j=void 0===i?h:i;if(d in a){const e=g(a[d]);e&&(b=!1,c[d]=e,j!==h&&(a[d]=j))}}),[a,!b&&c]}addActions(a={}){const b=this._actions||{};a&&'object'==typeof a?Object.keys(a).forEach((c)=>{const d=a[c];b[c]=this.makeAction(c,d)}):this.stream.error({source:'addActions',message:'bad actionsMap',mutators:a}),this._actions=b}addAction(a,b,c={}){return Array.isArray(b)?this.addAction(a,...b):(this._actions||(this._actions={}),this._actions[a]=this.makeAction(a,b,c),this)}makeAction(a,b,c={}){return r(b)||(b=()=>b),(...d)=>this.update(()=>b(this,...d),p({},c,{action:a||!0}))}update(a,b=h){if(a instanceof i?this._log({source:'update',message:'received change',change:a}):(a=new i(a,s(b)?b:{}),this._log({source:'update',message:'created ChangePromise',change:a})),a.status)this._resolve(a);else switch(this.status){case h:this.after('NotSet','status is not set'),this._delay(a);break;case c:this._delay(a);break;case f:this._resolve(a);break;case d:this.afterInitError({source:'update',message:'change requested of store after init error',change:a}),setTimeout(()=>a.reject(new Error('change requested of errored store')));break;case e:this.afterStop({source:'update',message:'change requested to stopped store',change:a}),setTimeout(()=>a.reject(new Error('change requested of stopped store')));break;default:console.log('unknown status:',this.status),a.reject(new Error(`change cannot resolve - state in unknown status ${this.status.toString()}`));}return a}_delay(a){this._log({source:'_delay',change:a});const b=this.stream.subscribe(()=>{switch(this.status){case f:b.unsubscribe(),this.update(a);break;case d:b.unsubscribe(),a.reject(this.startError||new Error('initialization error before change resolved'));break;case e:b.unsubscribe(),a.reject(this.startError||new Error('store stopped before change resolved'));break;default:}});return a}_resolve(a){switch(this._log({source:'_resolve',change:a}),this.status){case d:return a.reject(this.startError||new Error('initialization error before change resolved')),a;break;case e:a.reject(this.startError||new Error('store stopped before change resolved'));break;default:}if(r(a.value)){let b;try{b=a.value(this)}catch(b){return this._log({source:'_resolve',message:'error from change function',error:b}),a.reject(b),a.status===f&&(this._status=d),this.stream.error({error:b,change:a}),a}return this._log({source:'_resolve',message:'changing state value to function result:',newState:b,change:a}),a.value=b,this._resolve(a)}return j(a.value)?(a.value.then((b)=>{a.value=b,this._resolve(a)}).catch((b)=>{a.reject(b)}),a):(m(a.status)&&(this._log({source:'_resolve',message:'updating status',change:a}),this._status=a.status),a.noop||this._updateState(a.value),this._log({source:'_resolve',message:'stream updated',change:a}),a.resolve(a.value),this._log({source:'_resolve',message:'change resolved',change:a}),a)}_updateState(a){m(a)&&(this._state=a),this.stream.next({status:this.status,state:this.state})}afterStart(a){return this.after('Start',a)}afterStop(a){return this.after('Stop',a)}afterInitError(a){return this.after('InitError',a)}after(a,b='tried to change'){return'string'==typeof b?this.after(a,new Error(b)):(a||(a=this._status.toString()),this.stream.error({source:`after${a}`,error:b}),b)}restart(a=h){let g;switch(this.status){case b:g=this.start();break;case c:g=this._startPromise;break;case f:g=this._startPromise||Promise.resolve(this.state);break;case d:g=this.update(a,{status:f});break;case e:g=this.update(a,{status:f});break;case h:g=this.update(a,{status:f});break;default:g=this.update(a,{status:f});}return this._startPromise=g,g}start(){if(this._log({source:'start'}),!this._startPromise)switch(this.status){case b:if(!m(this._starter))this._log({source:'start',message:'no starter - updating status'}),this._startPromise=this.update(h,{status:f});else{if(!r(this._starter)){this._status=d;const a=new Error('bad starter');return this.stream.error({error:a,starter:this._starter}),Promise.reject(a)}this.update(h,{status:c}),this._startPromise=this.update(this._starter,{status:f}).catch((a)=>{this.startError=a,this.update(h,{status:d}),this.stream.error({message:'start error',error:a})})}break;case c:return Promise.reject(this.afterStart('tried to initialize after starting'));break;case f:this._startPromise=Promise.resolve(this.state);break;case d:return Promise.reject(this.afterInitError('tried to initialize after error'));break;case e:return Promise.reject(this.afterStop('tried to initialize after stopped'));break;default:return Promise.reject(new Error(`strange status: ${this.status.toString()}`));}return this._startPromise}stop(a=h){return this.update(a,{status:e})}_log(a){if(this.debugStream)try{this.debugStream.next(p({},a,{status:this.status,state:n()(this.state)}))}catch(b){this.debugStream.next({info:a,status:this.status,state:this.state,_cloneError:b})}}addProp(a,b={}){if('object'==typeof a)return Object.keys(a).forEach((b)=>{const c=a[b];this.addProp(b,c)}),this;var c=b.type;const d=void 0===c?'*':c;var e=b.start;const g=void 0===e?null:e;var i=b.test;const j=void 0===i?()=>!1:i;var l=b.valueIfTestFails;const m=void 0===l?null:l;var n=b.setter;let o=void 0===n?h:n;switch(this._props[a]={type:d,test:j,valueIfTestFails:m},this.status){case f:this.update(({state:b})=>p({},b,{[a]:g}),{});break;default:this._propsState||(this._propsState={}),this._propsState[a]=g;}return q(o)||(o=`set${k(a)}`),this._actions[o]||this.addAction(o,({state:b},c)=>{const d=p({},b);return d[a]=c,d}),this}subscribe(...a){this.stream.subscribe(...a)}}return t}),a.constant('capFirst',(a)=>a[0].toUpperCase()+a.slice(1))},r=(a)=>{q(a)},s=c(2),t=c.n(s),u=(a)=>{a.factory('ChangePromise',({isPromise:a,isSet:b,NOT_SET:c})=>{let d=0;class e{constructor(a=c,b={}){'undefined'==typeof a&&(a=c),d+=1,this.id=d;this._resolved=!1,this.promise=new Promise((a,b)=>{this._done=a,this._fail=b}),this.change=a,this.value=a,this.info=b===c?{}:b}get resolved(){return this._resolved}get noop(){return t()(this,'info.noop',!1)}get status(){return t()(this,'info.status',c)}resolve(b=c){return this.resolved?this.promise:(b!==c&&(this.value=b),a(this.value))?this.value.then((a)=>this.resolve(a)):(this._resolved=!0,this._done(this.value),this.promise)}reject(a=c){if(this.resolved)return console.log('ChangePromise reject called with ',a,'after _resolve'),this.promise;this._resolved=!0,a!==c&&(this.error=a);try{this._fail(this.error)}catch(a){console.log('error:',a)}return this.promise}then(...a){return this.promise.then(...a)}catch(a){return this.promise.catch(a)}}return e}),a.factory('change',({ChangePromise:a})=>(b,c={})=>new a(b,c))},v=(a)=>{u(a)},w=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},x=(a)=>{a.factory('defaultStateReducer',({isSet:a,isObject:b})=>(c)=>{const d={};let e={};return Array.from(c.stores.keys()).forEach((f)=>{const g=c.stores.get(f).state;d[f]=g,a(g&&b(g))&&(e=w({},e,g))}),w({},e,d)}),a.factory('defaultActionReducer',()=>(a)=>{let b={};if(!(a.stores instanceof Map))return console.log('dar: non map passed:',a),{};a.stores.forEach((a)=>{b=w({},b,a.actions)});const c=t()(a,'_actions',{});return b=w({},b,c),a.stores.forEach((a,c)=>{b[c]=a.actions}),b}),a.factory('defaultStarter',({asMap:a,S_STARTED:b})=>(c)=>{const d=[];return Array.from(a(c.stores).values()).forEach((a)=>{const c=a.start();a.status!==b&&d.push(c)}),d.length?Promise.all(d).then(()=>c._stateReducer(c)):c._stateReducer(c)}),a.factory('StoreMap',({S_STOPPED:a,NOT_SET:b,asMap:c,defaultStateReducer:d,defaultStarter:e,defaultActionReducer:f,isFunction:g,Store:h})=>class extends h{constructor(a=new Map,b={}){const g=t()(b,'stateReducer',d),h=t()(b,'actionReducer',f),i=t()(b,'starter',e),j=c(a);super(w({},b,{state:g({_stateReducer:g,stores:j}),starter:i})),this.stores=j,this._stateReducer=g,this._actionReducer=h,this._listenToStores()}_listenToStores(){this._subscribers=[],this.stores.forEach((a)=>{const b=a.stream.subscribe(()=>{this._updateStoreFromStores()},(b)=>{this.errorStream.next({source:'mapped store',store:a,error:b})});this._subscribers.push(b)})}_updateStoreFromStores(){this.update(this._stateReducer)}stop(){return this.stores.forEach((a)=>{a.complete()}),this._subscribers.forEach((a)=>a.unsubscribe),this.update(b,{status:a})}get do(){return this.actions}get actions(){return this._actionReducer(this)}makeAction(a,b){return g(b)||(b=()=>b),(...c)=>this.update(()=>b(this,...c),{noop:!0,action:a||!0})}})},y=(a)=>{x(a)};c.d(b,'STORE_STATE_UNSET_VALUE',function(){return E}),c.d(b,'S_NEW',function(){return F}),c.d(b,'S_STARTED',function(){return G}),c.d(b,'S_STARTING',function(){return H}),c.d(b,'S_ERROR',function(){return I}),c.d(b,'ACTION_ERROR',function(){return J}),c.d(b,'ACTION_START',function(){return K}),c.d(b,'ACTION_NOOP',function(){return L}),c.d(b,'ACTION_COMPLETE',function(){return M}),c.d(b,'NOT_SET',function(){return N}),c.d(b,'Store',function(){return A}),c.d(b,'StoreMap',function(){return B}),c.d(b,'update',function(){return C}),c.d(b,'mergeIntoState',function(){return D});var z=(()=>{const a=new e.a;return[f,v,l,y,r].forEach((b)=>b(a)),a})().container;const A=z.Store,B=z.StoreMap,C=z.update,D=z.mergeIntoState,E=z.STORE_STATE_UNSET_VALUE,F=z.S_NEW,G=z.S_STARTED,H=z.S_STARTING,I=z.S_ERROR,J=z.ACTION_ERROR,K=z.ACTION_START,L=z.ACTION_NOOP,M=z.ACTION_COMPLETE,N=z.NOT_SET},function(a){a.exports=require('bottlejs')},function(a){a.exports=require('rxjs/operators')}])});\n//# sourceMappingURL=index.js.map","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","import Bottle from 'bottlejs';\n\nimport collFactory from './Vector';\nimport poolFactory from './Pool';\nimport impulseFactory from './Impulse';\nimport catchFactory from './rxCatch';\nimport promiserFactory from './Promiser';\nimport unsetFactory from './utils';\nimport restPoolFactory from './RestPool';\nimport restPoolUtilFactory from './RestPoolUtils';\nimport dataMapFactory from './DataMap';\nimport signalFactory from './Signal';\n\nexport default () => {\n    let bottle = new Bottle();\n    unsetFactory(bottle);\n    collFactory(bottle);\n    poolFactory(bottle);\n    catchFactory(bottle);\n    impulseFactory(bottle);\n    promiserFactory(bottle);\n    restPoolFactory(bottle);\n    dataMapFactory(bottle);\n    restPoolUtilFactory(bottle);\n    signalFactory(bottle);\n    return bottle;\n}\n","export default function unsetFactory(bottle) {\n    bottle.factory('UNSET', ({Symbol}) => Symbol('UNSET'));\n    bottle.factory('ifUnset', ({UNSET}) => {\n        return (value, defaultValue) => {\n            if ((value === UNSET) || (typeof value === \"undefined\")) {\n                return defaultValue;\n            } else {\n                return value;\n            }\n        }\n    });\n\n    bottle.factory('isUnset', ({UNSET}) => {\n        return (item) => item === UNSET;\n    });\n\n    bottle.factory('Symbol', ({noop}) => {\n        return (string) => ({name: string});\n    });\n\n    bottle.factory('error', () => (msg, info) => {\n        let e = new Error(msg);\n        if (info) {\n            return Object.assign(e, {info})\n        }\n        return e;\n    });\n}\n","import propper from '@wonderlandlabs/propper';\nimport lGet from 'lodash.get';\nimport {filter, map, startWith} from 'rxjs/operators';\nimport uuid from 'uuid/v4';\n\nexport default (bottle) => {\n\n    bottle.factory('Vector', ({UNSET, Update, Impulse, error, noop, isUnset}) => {\n        /**\n         * A channel is a named operation\n         */\n        class Vector {\n            constructor(name, sender, pool, config = {}) {\n                this.sender = sender;\n                this.pool = pool;\n                this.config = lGet(config, 'config', config);\n                this.schema = lGet(config, 'schema');\n                this._makeImpulseStream = lGet(config, 'makeImpulseStream', UNSET);\n                this._paramsToQuery = lGet(config, 'paramsToQuery', noop);\n                this.idempotent = lGet(config, 'idempotent', false)\n                this.name = name;\n            }\n\n            TYPE='VECTOR'\n\n            impulse(params = {}) {\n                return new Impulse({\n                    vector: this,\n                    params\n                })\n            }\n\n            paramsToQuery(impulse) {\n                return this._paramsToQuery(impulse.params, impulse, this);\n            }\n\n            async send(signal) {\n                try {\n                    signal.response = await this.sender(signal.query, signal);\n                    if (!(isUnset(signal.impulse.response))) {\n                        signal.impulse.response = signal.response;\n                    }\n                    return Promise.resolve(signal);\n                } catch (error) {\n                    signal.error = error;\n                    return Promise.reject(signal);\n                }\n            }\n\n            makeImpulseStream(impulse){\n                if(!isUnset(this._makeImpulseStream)){\n                    return this._makeImpulseStream(impulse, this);\n                }\n                const pool = impulse.pool;\n                return pool.signalStream.pipe(filter(signal => signal.impulse.id === impulse.id))\n            }\n\n            get signalStream() {\n                if (!this._signalStream) {\n                    this._signalStream = this.pool.signalStream\n                        .pipe(filter(signal => signal.vector.name === this.name));\n                }\n                return this._signalStream;\n            }\n\n            subscribe(...params) {\n                return this.signalStream.subscribe(...params);\n            }\n        }\n\n        propper(Vector)\n            .addProp('idempotent', {\n                type: 'boolean',\n                defaultValue: false\n            })\n            .addProp('pool', {\n                required: true, type: 'object',\n                onInvalid: (...params) => {\n                    throw error('bad vector.pool', {\n                        field: 'config',\n                        object: 'Pool',\n                        params\n                    })\n                }\n            })\n            .addProp('sender', {\n                required: true, type: 'function',\n                onInvalid: (...params) => {\n                    throw error('bad vector.sender', {\n                        field: 'config',\n                        object: 'Pool',\n                        params\n                    })\n                }\n            })\n            .addProp('schema')\n            .addProp('config', {\n                type: 'object',\n                onInvalid: (...params) => {\n                    throw error('bad vector.config', {\n                        field: 'config',\n                        object: 'Pool',\n                        params\n                    })\n                }\n            })\n            .addProp('name', {\n                required: true, type: 'string',\n                onInvalid: (...params) => {\n                    throw error('bad vector.name', {\n                        field: 'config',\n                        object: 'Pool',\n                        params\n                    })\n                }\n            })\n\n        return Vector;\n    });\n}\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof Symbol !== \"undefined\") {\n\t\tvar iteratorSymbol = Symbol.iterator;\n\t\tif (iteratorSymbol && (iteratorSymbol in target)) {\n\t\t\tvar iterator = target[iteratorSymbol](), step, pact, reject;\n\t\t\tfunction _cycle(result) {\n\t\t\t\ttry {\n\t\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (pact) {\n\t\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpact = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(pact || (pact = new Pact()), 2, e);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_cycle();\n\t\t\tif (iterator.return) {\n\t\t\t\tvar _fixup = function(value) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\t\titerator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\tif (pact && pact.then) {\n\t\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t_fixup();\n\t\t\t}\n\t\t\treturn pact;\n\t\t}\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"value is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof Symbol !== \"undefined\") {\n\t\tvar asyncIteratorSymbol = Symbol.asyncIterator;\n\t\tif (asyncIteratorSymbol && (asyncIteratorSymbol in target)) {\n\t\t\tvar pact = new _Pact();\n\t\t\tvar iterator = target[asyncIteratorSymbol]();\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t\treturn pact;\n\t\t\tfunction _resumeAfterBody(result) {\n\t\t\t\tif (check && !check()) {\n\t\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t\t}\n\t\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t\t}\n\t\t\tfunction _resumeAfterNext(step) {\n\t\t\t\tif (step.done) {\n\t\t\t\t\t_settle(pact, 1);\n\t\t\t\t} else {\n\t\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction _reject(error) {\n\t\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t\t}\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, value);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t\tthis[Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))] = function() {\n\t\t\treturn this;\n\t\t};\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\t_entry(_this).then(returnValue, function(error) {\n\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import {Subject} from 'rxjs';\nimport lGet from 'lodash.get';\nimport propper from '@wonderlandlabs/propper';\n\nexport default (bottle) => {\n\n    bottle.factory('Pool', function ({Vector, error}) {\n        class Pool {\n            constructor(name, config = {}) {\n                this.name = name;\n                this.vectors = lGet(config, '_vectors', new Map());\n                this.vectors.forEach(v => v.pool = this);\n                this.config = lGet(config, 'config', config);\n            }\n\n            addVector(name, sender, config, force = false) {\n                if (this.vectors.has(name) && !force) {\n                    throw error('Attempt to redefine ' + name, {\n                        config,\n                        name,\n                        pool: this\n                    })\n                }\n\n                if (sender instanceof Vector) {\n                    sender.pool = this;\n                    this.vectors.set(name, sender);\n                } else {\n                    this.vectors.set(name, new Vector(name, sender, this, config))\n                }\n                return this;\n            }\n\n            impulse(name, ...params) {\n                if (!this.vectors.has(name)) {\n                    throw error('attempt to use an unregistered vector', {\n                        pool: this,\n                        name,\n                        params\n                    })\n                }\n\n                return this.vectors.get(name).impulse(params);\n            }\n\n            get signalStream() {\n                if (!this._signalStream) {\n                    this._signalStream = new Subject();\n                }\n                return this._signalStream;\n            }\n\n            subscribe(...params) {\n                return this.signalStream.subscribe(...params);\n            }\n\n            toJSON(){\n                return {\n                    name: this.name,\n                    TYPE: 'POOL',\n                    vectors: Array.from(this.vectors.keys())\n                }\n            }\n        }\n\n        propper(Pool)\n            .addProp('vectors', ({defaultValue: () => new Map}))\n            .addProp('name', {type: 'string', required: true})\n            .addProp('config', {\n                type: 'object', defaultValue: () => {\n                    return {};\n                },\n                onInvalid: (...params) => {\n                    throw error('bad pool.config', {\n                        field: 'config',\n                        object: 'Pool',\n                        params\n                    })\n                }\n            });\n\n        return Pool;\n    });\n}\n","import {catchError, map, switchMap} from 'rxjs/operators';\nimport {of} from 'rxjs';\n\nexport default function catchFactory(bottle) {\n  bottle.constant('noop', (a) => a);\n\n  const defaultCatcher = (err) => ({error: err, defaultCatcher: true});\n\n  /**\n   * Maps the output to a function that can throw errors.\n   * Re-maps error output to the catcher function.\n   * The resulting subscriber has pseudo-promise syntax\n   * that lets you set the mapper\n   */\n  bottle.factory('rxCatch', ({noop}) => {\n    return (observable, mapper = noop, catcher = defaultCatcher) => {\n      return observable.pipe(\n        switchMap(\n          response => of(response)\n            .pipe(\n              map(mapper),\n              catchError(error => of(catcher(error))))\n        ));\n    }\n  })\n}\n","import lGet from 'lodash.get';\nimport uuid from 'uuid/v4';\nimport propper from '@wonderlandlabs/propper';\nimport {filter, map, startWith} from 'rxjs/operators';\n\nexport default (bottle) => {\n\n    bottle.factory('IMPULSE_STATE_NEW', ({Symbol}) => Symbol('IMPULSE_STATE_NEW'));\n    bottle.factory('IMPULSE_STATE_QUEUED', ({Symbol}) => Symbol('IMPULSE_STATE_QUEUED'));\n    bottle.factory('IMPULSE_STATE_SENT', ({Symbol}) => Symbol('IMPULSE_STATE_SENT'));\n    bottle.factory('IMPULSE_STATE_RESOLVED', ({Symbol}) => Symbol('IMPULSE_STATE_RESOLVED'));\n    bottle.factory('IMPULSE_STATE_UPDATED', ({Symbol}) => Symbol('IMPULSE_STATE_UPDATED'));\n    bottle.factory('IMPULSE_STATE_ERROR', ({Symbol}) => Symbol('IMPULSE_STATE_ERROR'));\n    bottle.factory('IMPULSE_STATE_COMPLETE', ({Symbol}) => Symbol('IMPULSE_STATE_COMPLETE'));\n\n    bottle.factory('Impulse', ({\n                                   UNSET, error, Signal, isUnset\n                               }) => {\n\n            /**\n             * An impulse is a single call to a channel.\n             * It exists for an indefinate period before it is performed,\n             * so it can be used as a \"draft\" or prepared query that you\n             * build up and send.\n             *\n             * Once set, its response subscribes to the pools updates\n             * stream so that it can change (or present warnings) when\n             * the pool's other impulse updates are relevant to the response.\n             */\n            class Impulse {\n                constructor(config = {}) {\n                    this.id = uuid();\n                    this.vector = lGet(config, 'vector');\n                    this.params = lGet(config, 'params', config);\n                }\n\n                get pool() {\n                    return this.vector.pool;\n                }\n\n                toJSON() {\n                    return {\n                        id: this.id,\n                        TYPE: 'Impulse',\n                        vector: this.vector.name,\n                        params: this.params,\n                        sent: this.sent,\n                        response: this.response\n                    };\n                }\n\n                send() {\n                    if (this._pending) {\n                        if (this.vector.idempotent) {\n                            return this._pending;\n                        } else {\n                            return this._pending\n                                .then(() => this.send())\n                                .catch(() => this.send());\n                        }\n                    } else {\n                        const signal = new Signal(this);\n                        this._pending = this.vector.send(signal)\n                            .then((signal) => {\n                                this._pending = false;\n                                if (isUnset(this.response)) {\n                                    this.response = signal.response;\n                                }\n                                this.pool.signalStream.next(signal);\n                                return signal;\n                            })\n                            .catch(() => {\n                                this._pending = false;\n                                this.pool.signalStream.error(signal);\n                                return signal;\n                            });\n                        this.sent = true;\n                    }\n\n                    return this._pending;\n                }\n\n                get signalStream() {\n                    if (!this._signalStream) {\n                        this._signalStream = this.vector.makeImpulseStream(this);\n                    }\n                    return this._signalStream;\n                }\n\n                subscribe(...params) {\n                    if (this._completed) {\n                        throw error('cannot subscribe to completed impulse', {\n                            impulse: this, params\n                        });\n                    }\n                    const sub = this.signalStream.subscribe(...params);\n                    this._subs.push(sub);\n                    return sub;\n                }\n\n                get _subs() {\n                    if (!this.__subs) {\n                        this.__subs = [];\n                    }\n                    return this.__subs;\n                }\n\n                complete() {\n                    this._completed = true;\n                    if (this._signalStream) {\n                        this._signalStream.complete();\n                    }\n\n                    if (this.__subs) {\n                        this.__subs.forEach(s => s.unsubscribe());\n                    }\n\n                    delete this.__subs;\n                }\n\n                /**\n                 * Get the identity property of the impulse's parameters.\n                 */\n                paramsToID() {\n                    if (/(get|post|delete)/.test(this.vector.name)) {\n                        const firstQuery = this.pool.impulseParamsToQuery(this);\n                        if (!(isUnset(firstQuery.id || firstQuery.id === ''))) {\n                            this.identity = firstQuery.id;\n                        }\n                    }\n                }\n\n                signalToID(signal) {\n                    if (signal.impulse.id !== this.id) {\n                        return;\n                    }\n                    if (signal.response && (typeof signal.response === 'object')) {\n                        this.identity = signal.response[this.pool.identityField];\n                    }\n                }\n            }\n\n\n            propper(Impulse)\n                .addProp('params', {\n                    type: 'array',\n                    required: true\n                })\n                .addProp('response', {\n                    defaultValue: () => UNSET\n                })\n                .addProp('sent', {\n                    type: 'boolean',\n                    defaultValue: false\n                })\n                .addProp('vector', {\n                    required: true,\n                    type: 'object',\n                    onInvalid:\n                        (err) => {\n                            throw error('bad impulse.config', {\n                                field: 'vector',\n                                object: 'Impulse',\n                                err\n                            });\n                        }\n                });\n\n            return Impulse;\n        }\n    );\n};\n","export default (bottle) => {\n\n    bottle.factory('Promiser', ({UNSET}) => {\n        return class Promiser {\n            constructor() {\n                this._resolved = false;\n                this.promise = new Promise((done, fail) => {\n                    this._done = done;\n                    this._fail = fail;\n                });\n            }\n\n            get resolved() {\n                return this._resolved;\n            }\n\n            /**\n             * _resolve (optionally) sets the final value of the change\n             * and closes the promise. It can only execute once.\n             *\n             * If value is (or is set to) a value then the change\n             * resolves that value and takes the result as the change's value\n             * then returns it.\n             *\n             * @returns {Promise}\n             * @param response\n             */\n            resolve(response) {\n                if (this.resolved) {\n                    return this.promise;\n                }\n\n                this.response = response;\n\n                this._resolved = true;\n                this._done(response);\n                return this.promise;\n            }\n\n            reject(error) {\n                if (this.resolved) {\n                    return this.promise;\n                }\n\n                this._resolved = true;\n\n                this.error = error;\n\n                this._fail(this);\n                return this.promise;\n            }\n\n            then(...args) {\n                return this.promise.then(...args);\n            }\n\n            catch(listener) {\n                return this.promise.catch(listener);\n            }\n        }\n\n\n    })\n\n\n}\n","import {Store} from '@wonderlandlabs/looking-glass-engine';\nimport lGet from 'lodash.get';\nimport axios from 'axios';\nimport urlJoin from 'url-join';\nimport querystring from 'query-string';\nimport propper from \"@wonderlandlabs/propper\";\n\nexport default (bottle) => {\n\n    bottle.factory('RestPool', ({\n                                    Pool, error, isUnset, noop, axios, UNSET,\n                                    REST_ACTIONS, restVectors, impulseParamsToQuery\n                                }) => {\n\n        class RestPool extends Pool {\n            constructor(name, config) {\n                super(name, config);\n                this.baseURL = lGet(config, 'baseURL', '/');\n                this.prepQuery = lGet(config, 'prepQuery', null);\n                this.identityField = lGet(config, 'identityField', 'id');\n                this.responseToData = lGet(config, 'responseToData', noop);\n                this.connection = lGet(config, 'connection', axios);\n                this.impulseParamsToQuery = lGet(config, 'impulseParamsToQuery', impulseParamsToQuery);\n\n                let restActions = lGet(config, 'restActions', UNSET);\n                if (isUnset(restActions)) {\n                    REST_ACTIONS.forEach((action) => {\n                        let config = Object.assign({},  restVectors[action]);\n                        const sender = config.sender;\n                        delete config.sender;\n                        this.addVector(action, sender, config);\n                    });\n                } else {\n                    restActions.forEach((action) => {\n                        if (typeof action === 'string') {\n                            let config = Object.assign({},  restVectors[action]);\n                            const sender = config.sender;\n                            delete config.sender;\n                            this.addVector(action, sender, config);\n                        } else if (Array.isArray(action)) {\n                            this.addVector(...action);\n                        } else {\n                            throw error('strange action for pool ' + name, {action});\n                        }\n                    });\n                }\n            }\n\n            toJSON(){\n                return {\n                    name: this.name,\n                    TYPE: 'RestPool',\n                    baseURL: this.baseURL,\n                    vectors: Array.from(this.vectors.keys())\n                };\n            }\n\n            url(id, queryParams) {\n                let url = (id === '' || isUnset(id)) ? this.baseURL : urlJoin(this.baseURL, id);\n                const q =  querystring.stringify(queryParams);\n                if (q) {\n                    url += '?' + q;\n                }\n                // console.log('url from ', this.baseURL, 'id =', id, 'queryParams = ', queryParams, '=', url);\n                return url;\n            }\n        };\n\n        propper(RestPool)\n            .addProp('identityField', {\n                type: 'string',\n                required: true,\n                defaultValue: 'id'\n            })\n            .addProp('connection', {\n                required: true,\n                defaultValue: () => axios\n            })\n            .addProp('responseToData', {\n                type: 'function',\n                defaultValue() {\n                    return noop;\n                },\n                required: true\n            })\n            .addProp('prepQuery', {\n                type: 'function',\n                defaultValue() {\n                    return noop;\n                },\n                required: false\n            })\n            .addProp('baseURL', {\n                type: 'string',\n                defaultValue: '/',\n                required: true,\n                test: [\n                    (value) => {\n                        if (value === '/') {\n                            return true;\n                        }\n                        return /$http(s)?:\\/\\/.+/.test(value);\n                    },\n                    false,\n                    'badly formed URL'\n                ]\n            });\n\n        return RestPool;\n    });\n};\n","export default bottle => {\n    bottle.factory('DataMap', () => {\n        return class DataMap {\n            constructor(records, pool) {\n                this._map = new Map();\n                this.pool = pool;\n                (Array.isArray(records) ? records : [records]).forEach(data => {\n                    const id = data[pool.idField];\n                    this.set(id, data);\n                })\n            }\n\n            get size() {\n                return this._map.size;\n            }\n\n            entries() {\n                return this._map.entries();\n            }\n\n            get(k){\n                return this._map.get(k);\n            }\n\n            set(...a) {\n                return this._map.set(...a);\n            }\n\n            has(k) {\n                return this._map.has(k);\n            }\n\n            keys() {\n                return this._map.keys()\n            }\n\n            clear() {\n                return this._map.clear()\n            }\n\n            delete(k) {\n                return this._map.delete(k)\n            }\n\n            values() {\n                return this._map.values()\n            }\n\n            forEach(fn) {\n                return this._map.forEach(fn)\n            }\n\n            overlaps(otherDataMap) {\n                if (!otherDataMap instanceof DataMap) {\n                    return false;\n                }\n                if (otherDataMap.size < this.size) {\n                    return otherDataMap.overlaps(this);\n                }\n                let keys = this.keys();\n                let next = keys.next();\n                while (!next.done) {\n                    if (otherDataMap.has(next.value)) {\n                        return true;\n                    }\n                    next = keys.next();\n                }\n\n                return false;\n            }\n\n            sharedKeys(otherDataMap) {\n                if (!otherDataMap instanceof DataMap) {\n                    return false;\n                }\n                if (otherDataMap.size < this.size) {\n                    return otherDataMap.sharedKeys(this);\n                }\n                let keys = this.keys();\n                let shared = [];\n                let next = keys.next();\n\n                while (!next.done) {\n                    if (otherDataMap.has(next.value)) {\n                        shared.push(next.value);\n                    }\n                    next = keys.next();\n                }\n\n                return shared;\n            }\n\n            clone(){\n                let dm = new DataMap([], this.pool);\n                dm.updateFrom(this, true);\n                return dm;\n            }\n\n            /**\n             * copy shared values from the other map into this one.\n             * @param otherMap\n             * @param useAll {bool}\n             * @param merge {bool} if true (default), new data is combined with old data. So fields can be added but not deleted.\n             */\n            updateFrom(otherMap, useAll = false, merge = true) {\n                if (otherMap.pool !== this.pool) {\n                    console.log(error('attempt to merge data from wrong pool', {\n                        map: this,\n                        otherMap\n                    }))\n                }\n\n                otherMap.forEach((value, key) => {\n                    if ((this.has(key))) {\n                        let merged = merge ? Object.assign({}, this.get(key), value): value;\n                        this.set(key, merged);\n                    } else if (useAll) {\n                        this.set(key, value);\n                    }\n                });\n                return this;\n            }\n        }\n    });\n}\n","import lGet from 'lodash.get';\nimport axios from 'axios';\nimport lEqual from 'lodash.isequal';\nimport {filter, map, distinctUntilChanged} from 'rxjs/operators';\n\nexport default (bottle) => {\n    bottle.constant('REST_ACTIONS', 'get,put,post,delete,getAll'.split(','));\n\n    bottle.factory('axios', () => axios);\n\n    bottle.factory('mapForId', ({impulseRecordId}) => {\n        return (impulse) => {\n            const impulseId = impulse.id;\n            const ID = impulse.pool.identityField;\n\n            return signal => {\n\n                if (!signal) {\n                    console.log('!!!!!!!!!!!!!! mapForId -- no signal');\n                    return null;\n                }\n                const recordId = impulseRecordId(impulse);\n                let resultSignal = signal;\n\n                if (impulseId === resultSignal.impulse.id) {\n                    return resultSignal;\n                }\n\n                switch (signal.vector.name) {\n                    case 'put':\n                        break;\n\n                    case 'get':\n                        break;\n\n                    case 'delete':\n                        resultSignal = signal.mutate({response: null});\n                        break;\n\n                    case 'post':\n                        break;\n\n                    case 'getAll':\n                        if (!Array.isArray(signal.response)) {\n                            console.log('!!!!! signal not array response');\n                            return null;\n                        }\n                        let responses = signal.response.map((r) => {\n                            return r && (typeof r === 'object') && r[ID] === recordId;\n                        });\n                        const response = responses[0] || null;\n                        resultSignal = signal.mutate({response});\n                        break;\n\n                    default:\n                }\n\n                return resultSignal;\n            };\n        };\n    });\n\n    bottle.factory('impulseRecordId', ({UNSET, isUnset}) => {\n        return function impulseRecordId(impulse) {\n            try {\n                let recordId = UNSET;\n                const ID = impulse.pool.identityField;\n\n                if (impulse.vector.name === 'post') {\n                    if (isUnset(impulse.response)) {\n                        return false;\n                    }\n                    recordId = impulse.response[ID];\n                } else {\n                    const query = impulse.pool.impulseParamsToQuery(impulse.params, impulse);\n                    // the identity of the source impulse\n                    recordId = query.id;\n                }\n\n                return recordId;\n            } catch (err) {\n                console.log('!!!!!!!!! impulseRecordId -- error:', err);\n                return UNSET;\n            }\n        };\n    });\n\n    bottle.factory('filterForId', ({isUnset, impulseRecordId}) => {\n\n        return (impulse) => {\n            const impulseId = impulse.id;\n\n            return signal => {\n                if (!signal) {\n                    console.log('!!!!!!!!!!!!!! filterForId -- no signal');\n                    return false;\n                }\n                if (signal.impulse.id === impulseId) {\n                    return true;\n                }\n\n                let targetId = impulseRecordId(impulse);\n                let ID = impulse.pool.identityField;\n\n                let show = false;\n                let signalQuery;\n                switch (signal.vector.name) {\n                    case 'put':\n                        signalQuery = impulse.pool.impulseParamsToQuery(signal.impulse.params, signal.impulse, true);\n                        show = !isUnset(targetId) && (signalQuery.id === targetId);\n                        break;\n\n                    case 'get':\n                        signalQuery = impulse.pool.impulseParamsToQuery(signal.impulse.params, signal.impulse, true);\n                        show = !isUnset(targetId) && (signalQuery.id === targetId);\n                        break;\n\n                    case 'delete':\n                        signalQuery = impulse.pool.impulseParamsToQuery(signal.impulse.params, signal.impulse, true);\n                        show = !isUnset(targetId) && (signalQuery.id === targetId);\n                        break;\n\n                    case 'post':\n                        show = false;\n                        break;\n\n                    case 'getAll':\n                        show = signal.response.filter(r => r[ID] === targetId).length;\n                        break;\n\n                    default:\n                        show = false;\n\n                }\n                return show;\n            };\n        };\n    });\n\n    bottle.factory('compareResponse', ({}) => {\n        /**\n         * this is a factory that returns a function suitable for use in distinctUntilChanged.\n         * note the comparator returns true if the elements are equal\n         * and false if they are not -- and false is when the record will be emitted.\n         */\n        return impulse => {\n            let ID = impulse.pool.identityField;\n            return (s1, s2) => {\n                const response1 = s1.response;\n                const response2 = s2.response;\n                return lEqual(response1, response2);\n            };\n        };\n    });\n\n    bottle.factory('restVectors', ({mapForId, filterForId, compareResponse}) => {\n\n        return {\n            get: {\n                sender(query, impulse) {\n                    const {pool} = impulse;\n                    return pool.connection.get(query.url, {headers: query.headers})\n                        .then(result => pool.responseToData(result, impulse));\n                },\n                paramsToQuery(params, impulse) {\n                    const {pool} = impulse;\n                    const query = pool.impulseParamsToQuery(params, impulse, true);\n                    return Object.assign({}, query, {\n                        url: pool.url(query.id, query.query)\n                    });\n                },\n                makeImpulseStream(impulse) {\n                    return impulse.pool.signalStream\n                        .pipe(\n                            filter(filterForId(impulse)),\n                            map(mapForId(impulse)),\n                            distinctUntilChanged(compareResponse(impulse))\n                        );\n                },\n                idempotent: true,\n            },\n            getAll: {\n                sender(query, impulse) {\n                    const {pool} = impulse;\n                    return pool.connection.get(query.url, {headers: query.headers})\n                        .then(result => pool.responseToData(result, impulse));\n                },\n                paramsToQuery(params, impulse) {\n                    const {pool} = impulse;\n                    //  console.log('----------------paramsToQuery: impulse', impulse.toJSON(), '-------------pool:', pool.toJSON(), '------------ ');\n                    const query = pool.impulseParamsToQuery(params, impulse, true);\n                    return Object.assign({}, query, {\n                        url: pool.url('', query.query)\n                    });\n                },\n                makeImpulseStream(impulse) {\n                    return impulse.pool.signalStream\n                        .pipe(\n                            filter((signal) => {\n                                return signal.vector.name === 'getAll' && lEqual(signal.impulse.params, impulse.params);\n                                // @TODO - integrate sub-updates\n                            })\n                        );\n                    // note - NO distinctUntilChanged - too expensive to compare large arrays, always returning.\n                },\n                idempotent: true,\n            },\n\n            put: {\n                sender(query, impulse) {\n                    const {pool} = impulse;\n                    return pool.connection.put(query.url, query.data, {headers: query.headers})\n                        .then(result => pool.responseToData(result, impulse));\n                },\n                paramsToQuery(params, impulse) {\n                    const {pool} = impulse;\n                    const query = pool.impulseParamsToQuery(params, impulse, true);\n                    return Object.assign({}, query, {\n                        url: pool.url(query.id, query.query)\n                    });\n                },\n                makeImpulseStream(impulse) {\n                    return impulse.pool.signalStream\n                        .pipe(\n                            filter(filterForId(impulse)),\n                            map(mapForId(impulse)),\n                            distinctUntilChanged(compareResponse(impulse))\n                        );\n                },\n\n                idempotent: false,\n            },\n\n            post: {\n                sender(query, impulse) {\n                    const {pool} = impulse;\n                    return pool.connection.post(query.url, query.data, {headers: query.headers})\n                        .then(result => pool.responseToData(result, impulse));\n                },\n                paramsToQuery(params, impulse) {\n                    const {pool} = impulse;\n                    const query = pool.impulseParamsToQuery(params, impulse, true);\n                    return Object.assign({}, query, {\n                        url: pool.url('', query.query)\n                    });\n                },\n                makeImpulseStream(impulse) {\n                    return impulse.pool.signalStream\n                        .pipe(\n                            filter(filterForId(impulse)),\n                            map(mapForId(impulse)),\n                            distinctUntilChanged(compareResponse(impulse))\n                        );\n                },\n\n                idempotent: false,\n            },\n\n            delete: {\n                sender(query, impulse) {\n                    const {pool} = impulse;\n                    return pool.connection.delete(query.url, {headers: query.headers})\n                        .then(result => pool.responseToData(result, impulse));\n                },\n                paramsToQuery(params, impulse) {\n                    const {pool} = impulse;\n                    const query = pool.impulseParamsToQuery(params, impulse, true);\n                    return Object.assign({}, query,\n                        {url: pool.url(query.id, query.query)});\n                },\n                // the default impulse stream -- only listens to itself -- is fine.\n                idempotent: false,\n            }\n        };\n    });\n\n    bottle.factory('impulseParamsToQuery', ({UNSET, isUnset}) => {\n        return (params, impulse, isSingle) => {\n            const {pool} = impulse;\n\n            let id = UNSET;\n            let data = UNSET;\n            let headers = {};\n            let query = {};\n\n            params.forEach((param) => {\n                if (!isSingle && Array.isArray(param) && isUnset(data)) {\n                    data = param;\n                } else if (typeof param === 'object') {\n                    if (isSingle && isUnset(data)) {\n                        data = param;\n                        if (pool.identityField in param) {\n                            id = lGet(param, pool.identityField);\n                        }\n                    } else {\n                        if ('headers' in param) {\n                            headers = param.headers;\n                        }\n                        if ('query' in param) {\n                            query = param.query;\n                        }\n                    }\n                } else if (isSingle && isUnset(id)) {\n                    id = param;\n                }\n            });\n\n            const out = {\n                id: (isUnset(id) ? '' : id), data: (isUnset(data) ? {} : data), headers, query\n            };\n\n            // console.log('impulseParamsToQuery, params:', params, 'single:', isSingle, 'impulse:', impulse.toJSON());\n            // console.log('----------------impulseParamsToQuery-result:', out);\n\n            return out;\n        };\n    });\n};\n","import lGet from 'lodash.get';\nimport uuid from 'uuid/v4';\n\nexport default (bottle) => {\n\n    bottle.factory('Signal', ({UNSET, Update, error, noop, isUnset}) => {\n        /**\n         * A channel is a named operation\n         */\n        return class Signal {\n            constructor(impulse, config = {}) {\n                this.id = uuid();\n                this.response = lGet(config, 'response', null);\n                this.error = lGet(config, 'error', null);\n                this._baseSignal = lGet(config, 'baseSignal', UNSET);\n                this._impulse = impulse;\n            }\n\n            toJSON() {\n                const out = {\n                    id: this.id,\n                    TYPE: 'SIGNAL',\n                    pool: this.pool.name,\n                    vector: this.vector.name,\n                    query: JSON.stringify(this.query),\n                    error: lGet(this, 'error', null),\n                    response: lGet(this, 'response', null),\n                    impulseId: this.impulse.id\n                };\n\n                if (!isUnset(this._baseSignal)){\n                    out.baseSignal = this._baseSignal.toJSON();\n                }\n\n                return out;\n            }\n\n            mutate(config) {\n                return new Signal(this.impulse, Object.assign({}, config, {  baseSignal: this}));\n            }\n\n            get baseSignal() {\n                return this._baseSignal;\n            }\n\n            get pool() {\n                return this.impulse.pool;\n            }\n\n            get impulse() {\n                return this._impulse;\n            }\n\n            get vector() {\n                return this.impulse.vector;\n            }\n\n            get params() {\n                return this.impulse.params;\n            }\n\n            get query() {\n                if (!this._query) {\n                    this._query = this.vector.paramsToQuery(this.impulse);\n                }\n                return this._query;\n            }\n        };\n    });\n};\n","import bottle from './bottle';\n\nconst myBottle = bottle();\nconst {\n    Pool,\n    RestPool,\n    Vector,\n    Impulse,\n    DataMap,\n    axios\n} = myBottle.container;\n\nexport default {\n    Pool,\n    RestPool,\n    Vector,\n    Impulse,\n    DataMap,\n    bottle,\n    axios\n}\n"],"names":["self","module","a","b","d","c","exports","e","i","l","call","m","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","prototype","hasOwnProperty","p","s","require$$0","require$$1","require$$2","value","f","constant","Symbol","g","k","factory","Promise","h","result","error","resolve","then","this","bind","NOT_SET","isPromise","catch","assign","done","fail","promise","Map","keys","reduce","set","console","log","isSet","test","from","Error","pipe","delay","race","arguments","length","q","STORE_STATE_UNSET_VALUE","S_NEW","S_STARTING","S_ERROR","S_STOPPED","S_STARTED","ChangePromise","j","capFirst","asValue","isFnName","isFunction","r","isObject","[object Object]","state","starter","propTypes","debug","actions","_propTypes","_propsState","_props","debugStream","BehaviorSubject","source","config","addActions","_state","_starter","_status","stream","status","_actions","do","__status","includes","__starter","_mergePropsStateIntoState","validState","validator","stateErrors","stateAndErrors","Array","isArray","iterator","next","push","TypeError","realState","errors","forEach","valueIfTestFails","makeAction","message","mutators","addAction","update","action","_log","change","_resolve","after","_delay","afterInitError","setTimeout","reject","afterStop","toString","subscribe","unsubscribe","startError","newState","noop","_updateState","start","_startPromise","afterStart","info","_cloneError","addProp","type","setter","toUpperCase","slice","t","u","id","_resolved","_done","_fail","resolved","v","w","x","stores","asMap","values","all","_stateReducer","defaultStateReducer","defaultStarter","defaultActionReducer","Store","super","_actionReducer","_listenToStores","_subscribers","_updateStoreFromStores","errorStream","store","complete","y","E","F","G","H","I","J","K","L","M","N","A","B","C","D","z","container","StoreMap","mergeIntoState","ACTION_ERROR","ACTION_START","ACTION_NOOP","ACTION_COMPLETE","require$$3","require$$4","str","encodeURIComponent","replace","charCodeAt","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","letter","err","shouldUseNative","target","symbols","to","val","toObject","key","encode","opts","strict","strictUriEncode","RegExp","bottle","Bottle","ref","defaultValue","UNSET","item","string","name","msg","unsetFactory","Vector","constructor","sender","pool","TYPE","lGet","schema","_makeImpulseStream","_paramsToQuery","idempotent","impulse","params","Impulse","paramsToQuery","send","signal","body","recover","_this","query","response","isUnset","makeImpulseStream","signalStream","filter","_signalStream","vector","propper","required","onInvalid","field","object","collFactory","Pool","vectors","addVector","force","has","Subject","toJSON","poolFactory","defaultCatcher","observable","mapper","catcher","switchMap","of","catchError","catchFactory","uuid","sent","_pending","Signal","_completed","sub","_subs","__subs","paramsToID","firstQuery","impulseParamsToQuery","identity","signalToID","identityField","impulseFactory","args","listener","promiserFactory","RestPool","baseURL","prepQuery","responseToData","connection","axios","restActions","REST_ACTIONS","restVectors","url","queryParams","urlJoin","obj","objectAssign","arrayFormat","sort","formatter","index","encoderForArrayFormat","undefined","val2","querystring","restPoolFactory","records","_map","data","idField","size","entries","clear","delete","fn","overlaps","otherDataMap","DataMap","sharedKeys","shared","clone","dm","updateFrom","otherMap","useAll","merge","merged","dataMapFactory","impulseId","ID","recordId","impulseRecordId","resultSignal","mutate","responses","signalQuery","targetId","show","s1","s2","lEqual","headers","filterForId","mapForId","distinctUntilChanged","compareResponse","getAll","put","post","isSingle","param","restPoolUtilFactory","_baseSignal","_impulse","out","JSON","stringify","baseSignal","_query","signalFactory"],"mappings":"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"}